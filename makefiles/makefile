# makefile for GNU make (automatically generated by makemake)
# NOTE: indent with TAB in GNU makefiles!

# paths are relative to the project directory (current directory during make)

EXE    = bin/vbcc-classic/powerpctest.library
OBJDIR = o/vbcc-classic/

# compiler and linker

CC = vbcc:bin/vc
LD = vbcc:bin/vc
CCPPC = vbcc:bin/vc +warpos -c99 -Iinclude_h: -O2

# target 'all' (default target)

all : $(EXE)

#$(OBJDIR)kernelend.o : kernelend.c
#	$(CCPPC) -c -o $(OBJDIR)kernelend.o kernelend.c

$(OBJDIR)functions68k.o : functions68k.c
	$(CC) $(shell vbccprefs) -c -o $(OBJDIR)functions68k.o functions68k.c

$(OBJDIR)libinit.o : libinit.c
	$(CC) $(shell vbccprefs) -c -o $(OBJDIR)libinit.o libinit.c

OBJS = $(OBJDIR)libinit.o $(OBJDIR)functions68k.o $(OBJDIR)setupppc.o $(OBJDIR)ppcfunctions.o

$(EXE) : $(OBJS)
	$(LD) $(shell vbccprefs) -o $(EXE) $(OBJS)

# target 'clean'

clean:
	-delete $(EXE)
	-delete $(OBJDIR)\*.o
